/*

# git-secrets

Git管理対象外とするべき情報をチェックし, 意図しない情報漏洩を防ぐgitプラグイン.  
[git-secrets](https://github.com/awslabs/git-secrets)  

本プラグインはgit secretの導入と使用をサポートするプラグイン. 

 */

/*
 * git-secretsのインストールを実行する. 
 * すでにインストール済みの場合, このコマンドは失敗します. 
 */
task installGitSecret(type: Exec) {
    group 'Other'
    description "git-secret install."

    workingDir rootProject.rootDir
    commandLine "git secrets --install".split()
}

/*
 * git管理ファイルの中にSecret情報がないか探索する.
 * 実行にはrootProjectのscriptフォルダ配下にgitSecretsScan.shが必要. 
 */
task scanSecretWord << {
    group 'Other'
    description "git-secret scan."

    exec {
        println "Scanning now. wait a minute..."

        workingDir rootProject.rootDir
        executable "./script/gitSecretsScan.sh"
    }
}

